# Web 界面使用指南

## 快速启动

### 方式 1：双击启动脚本

双击 `start_web.bat` 文件，会自动启动 Web 服务器。

### 方式 2：命令行启动

在终端运行：
```bash
python app.py
```

## 使用说明

### 1. 访问界面

启动后，在浏览器中打开：**http://localhost:5000**

### 2. 选择 AI 提供商

- **🤖 Gemini 3 Pro**：深度思考，复杂推理，质量最高
  - 需要 Gemini API Key
  - 配额限制：15 次/分钟，1500 次/天

- **🧠 智谱 GLM**：中文专家，快速稳定，配额充足
  - 需要智谱 API Key
  - 可以使用你现有的 CC 智谱 Key

### 3. 设置内容领域

输入你想写的领域，例如：
- `情感,心理,人际关系`
- `科技,AI,互联网`
- `职场,成长,自我提升`

### 4. 点击"开始生成"

系统会自动：
1. 研究爆款选题
2. 撰写 2000 字文章
3. 检测 AI 率
4. 自动优化（最多 5 次）
5. 保存到本地文件

### 5. 查看结果

- **进度条**：实时显示当前进度
- **日志**：显示详细的执行过程
- **结果卡片**：完成后显示文章信息和评分

## 功能特点

### 实时追踪
- 进度百分比显示
- 当前步骤说明
- 详细日志输出

### 双模支持
- Gemini 3 Pro（深度思考）
- 智谱 GLM（快速稳定）

### 自动优化
- AI 率自动检测
- 多轮迭代优化
- 直到 AI 率 < 30%

### 本地保存
- Markdown 格式
- 包含评分和元数据
- 按时间戳命名

## 配置说明

### Gemini 配置

在 `.env` 文件中添加：
```env
GEMINI_API_KEY=your_gemini_api_key
```

### 智谱配置

在 `.env` 文件中添加：
```env
ZHIPU_API_KEY=your_zhipu_api_key
```

获取智谱 API Key：
1. 访问：https://open.bigmodel.cn/
2. 注册/登录
3. 创建 API Key

## 当前状态

### 已完成 ✅
- Web 服务器
- 漂亮的 UI 界面
- Gemini 3 Pro 集成
- 实时进度追踪
- 自动优化流程
- 本地文件保存

### 待完善 🚧
- 智谱 API 真实集成（目前是模拟）
- 微信公众号上传
- 历史记录查看
- 文章预览和编辑

## 故障排除

### 端口被占用
如果 5000 端口被占用，修改 `app.py` 最后一行：
```python
app.run(debug=True, host='0.0.0.0', port=5001)  # 改成其他端口
```

### Gemini 配额用完
等待配额重置或使用智谱模式。

### 模板未找到
确保 `templates/` 目录和 `index.html` 文件存在。

## 下一步

1. **启动服务**：双击 `start_web.bat`
2. **打开浏览器**：访问 http://localhost:5000
3. **选择提供商**：Gemini 或智谱
4. **开始生成**：点击按钮，实时追踪进度

---

祝你使用愉快！🎉
